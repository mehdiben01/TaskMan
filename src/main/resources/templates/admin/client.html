<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>StrikingDash</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <!-- inject:css-->

  <link rel="stylesheet" href="assets/vendor_assets/css/bootstrap/bootstrap.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/daterangepicker.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/fontawesome.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/footable.standalone.min.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/fullcalendar@5.2.0.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/jquery-jvectormap-2.0.5.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/jquery.mCustomScrollbar.min.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/leaflet.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/line-awesome.min.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/magnific-popup.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/MarkerCluster.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/MarkerCluster.Default.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/select2.min.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/slick.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/star-rating-svg.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/trumbowyg.min.css">

  <link rel="stylesheet" href="assets/vendor_assets/css/wickedpicker.min.css">

  <link rel="stylesheet" href="style.css">

  <!-- endinject -->

  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon.png">
</head>

<body class="layout-light side-menu overlayScroll">
<div class="mobile-search">
  <form class="search-form">
    <span data-feather="search"></span>
    <input class="form-control mr-sm-2 box-shadow-none" type="text" placeholder="Search...">
  </form>
</div>

<div class="mobile-author-actions"></div>
<div th:replace="include/header :: header" ></div>
<main class="main-content">



  <div class="contents">

    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12"><br>


          <div class="container-fluid">
            <!-- Autres contenus de la page -->
            <div th:if="${message}" class="alert alert-danger alert-dismissible fade show" role="alert">
              <strong><span th:text="${message}"></span></strong>
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            <!-- Suite du contenu de la page -->
          </div>
          <div class="container-fluid">
            <!-- Autres contenus de la page -->
            <div th:if="${messagesu}" class="alert alert-success alert-dismissible fade show" role="alert">
              <strong><span th:text="${messagesu}"></span></strong>
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            <!-- Suite du contenu de la page -->
          </div>

          <div class="breadcrumb-main user-member justify-content-sm-between ">
            <div class=" d-flex flex-wrap justify-content-center breadcrumb-main__wrapper">
              <div class="d-flex align-items-center user-member__title justify-content-center mr-sm-25">
                <h4 class="text-capitalize fw-500 breadcrumb-title">Team Members</h4>
                <span class="sub-title ml-sm-25 pl-sm-25" th:text="${countclients + ' clients '}"></span>
              </div>

              <form  class="d-flex align-items-center user-member__form my-sm-0 my-2">
                <span data-feather="search"></span>
                <input class="form-control mr-sm-2 border-0 box-shadow-none" type="search" id="myInput"  placeholder="Search" aria-label="Search">
              </form>

            </div>
            <div class="action-btn">
              <a href="#" class="btn px-15 btn-primary" data-toggle="modal" data-target="#new-member">
                <i class="las la-plus fs-16"></i>Add New Client</a>

              <!-- Modal -->
              <div class="modal fade new-member" id="new-member" role="dialog" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content  radius-xl">
                    <div class="modal-header">
                      <h6 class="modal-title fw-500" id="staticBackdropLabel">Ajouter Un Client</h6>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span data-feather="x"></span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div class="new-member-modal">
                        <form action="/client/save" method="post" th:object="${client}" enctype="multipart/form-data" class="was-validated">
                          <div class="form-group mb-20">
                            <label class="mb-15">Nom</label>
                            <input type="text" class="form-control" placeholder="Nom" th:field="*{nom}" name="nom" pattern="[A-Za-z\s]+" required
                                   th:classappend="${#fields.hasErrors('nom')} ? 'is-invalid'">
                            <div class="invalid-feedback">
                              <span th:if="${#fields.hasErrors('nom')}" th:errors="*{nom}"></span>
                              Le nom est requis.
                            </div>
                          </div>
                          <div class="form-group mb-20">
                            <label class="mb-15">Prénom</label>
                            <input type="text" class="form-control" placeholder="Prénom" th:field="*{prenom}" name="prenom" pattern="[A-Za-z\s]+" required
                                   th:classappend="${#fields.hasErrors('prenom')} ? 'is-invalid'">
                            <div class="invalid-feedback">
                              <span th:if="${#fields.hasErrors('prenom')}" th:errors="*{prenom}"></span>
                              Le prénom est requis.
                            </div>
                          </div>
                          <div class="form-group mb-20">
                            <label class="mb-15">Email</label>
                            <input type="email" class="form-control" placeholder="Email" th:field="*{email}" name="email" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required
                                   th:classappend="${#fields.hasErrors('email')} ? 'is-invalid'">
                            <div class="invalid-feedback">
                              <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
                              L'email est requis.
                            </div>
                          </div>
                          <div class="form-group mb-20">
                            <label class="mb-15">Téléphone</label>
                            <input type="text" class="form-control" placeholder="Téléphone" th:field="*{tel}" name="tel" pattern="[0-9]{10}" required
                                   th:classappend="${#fields.hasErrors('tel')} ? 'is-invalid'">
                            <div class="invalid-feedback">
                              <span th:if="${#fields.hasErrors('tel')}" th:errors="*{tel}"></span>
                              Le téléphone est requis.
                            </div>
                          </div>
                          <div class="form-group mb-20">
                            <label class="mb-15">Entreprise</label>
                            <input type="text" class="form-control" placeholder="Entreprise" th:field="*{company}" name="company" pattern="[A-Za-z\s]+" required
                                   th:classappend="${#fields.hasErrors('company')} ? 'is-invalid'">
                            <div class="invalid-feedback">
                              <span th:if="${#fields.hasErrors('company')}" th:errors="*{company}"></span>
                              L'entreprise est requise.
                            </div>
                          </div>
                          <div class="form-group mb-20">
                            <div class="custom-file">
                              <label for="formFile" class="form-label">Logo</label>
                              <input class="form-control" type="file" th:field="*{logo}" name="logo" id="formFile" required
                                     th:classappend="${#fields.hasErrors('logo')} ? 'is-invalid'">
                              <div class="invalid-feedback">
                                <span th:if="${#fields.hasErrors('logo')}" th:errors="*{logo}"></span>
                                Logo est requise.
                              </div>
                            </div>
                          </div>
                          <div class="button-group d-flex pt-25">
                            <button type="submit" class="btn btn-primary btn-default btn-squared text-capitalize">Ajouter</button>

                          </div>
                        </form>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Modal -->


            </div>
          </div>

        </div>
      </div>
      <div class="row" id="myTable">
        <div class="col-xxl-3 col-lg-4 col-md-6 mb-25" th:each="clients : ${clients}" >
          <!-- Profile Acoount -->
          <div class="card">
            <div class="card-body text-center pt-30 px-25 pb-0">

              <div class="account-profile-cards  ">
                <div class="ap-img d-flex justify-content-center">
                  <!-- Profile picture image-->
                  <img class="ap-img__main bg-opacity-primary  wh-120 rounded-circle mb-3 " th:src="${clients.cheminImage}"  alt="profile">
                </div>
                <div class="ap-nameAddress">
                  <h6 class="ap-nameAddress__title" th:text="${#strings.capitalize(clients.prenom)} + ' ' + ${clients.nom}"></h6>
                  <p class="ap-nameAddress__subTitle  fs-14 pt-1 m-0 " th:text="${clients.company}"></p>
                </div>
                <div class="ap-button account-profile-cards__button button-group d-flex justify-content-center flex-wrap pt-20">
                 <a th:href="@{/DetailClient/{id}(id=${clients.id})}">
                  <button type="button" class="border text-capitalize px-25 color-gray transparent shadow2 radius-md">
                    Editer</button></a>
                  <form action="/client/delete" method="post">
                    <input type="hidden" th:value="${clients.id}" name="id">
                  <button type="submit" class="border text-capitalize px-25 color-gray transparent shadow2 radius-md">
                    Supprimer</button>
                  </form>
                </div>
                <br>
              </div>


            </div>
          </div>
          <!-- Profile Acoount End -->
        </div>

      </div>

    </div>

  </div>
  <footer class="footer-wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-6">
          <div class="footer-copyright">
            <p>2020 @<a href="#">Aazztech</a>
            </p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="footer-menu text-right">
            <ul>
              <li>
                <a href="#">About</a>
              </li>
              <li>
                <a href="#">Team</a>
              </li>
              <li>
                <a href="#">Contact</a>
              </li>
            </ul>
          </div>
          <!-- ends: .Footer Menu -->
        </div>
      </div>
    </div>
  </footer>
</main>
<div id="overlayer">
        <span class="loader-overlay">
            <div class="atbd-spin-dots spin-lg">
                <span class="spin-dot badge-dot dot-primary"></span>
                <span class="spin-dot badge-dot dot-primary"></span>
                <span class="spin-dot badge-dot dot-primary"></span>
                <span class="spin-dot badge-dot dot-primary"></span>
            </div>
        </span>
</div>
<div class="overlay-dark-sidebar"></div>

<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDduF2tLXicDEPDMAtC6-NLOekX0A5vlnY"></script>
<!-- inject:js-->
<script src="assets/vendor_assets/js/jquery/jquery-3.5.1.min.js"></script>
<script src="assets/vendor_assets/js/jquery/jquery-ui.js"></script>
<script src="assets/vendor_assets/js/bootstrap/popper.js"></script>
<script src="assets/vendor_assets/js/bootstrap/bootstrap.min.js"></script>
<script src="assets/vendor_assets/js/moment/moment.min.js"></script>
<script src="assets/vendor_assets/js/accordion.js"></script>
<script src="assets/vendor_assets/js/autoComplete.js"></script>
<script src="assets/vendor_assets/js/Chart.min.js"></script>
<script src="assets/vendor_assets/js/charts.js"></script>
<script src="assets/vendor_assets/js/daterangepicker.js"></script>
<script src="assets/vendor_assets/js/drawer.js"></script>
<script src="assets/vendor_assets/js/dynamicBadge.js"></script>
<script src="assets/vendor_assets/js/dynamicCheckbox.js"></script>
<script src="assets/vendor_assets/js/feather.min.js"></script>
<script src="assets/vendor_assets/js/footable.min.js"></script>
<script src="assets/vendor_assets/js/fullcalendar@5.2.0.js"></script>
<script src="assets/vendor_assets/js/google-chart.js"></script>
<script src="assets/vendor_assets/js/jquery-jvectormap-2.0.5.min.js"></script>
<script src="assets/vendor_assets/js/jquery-jvectormap-world-mill-en.js"></script>
<script src="assets/vendor_assets/js/jquery.countdown.min.js"></script>
<script src="assets/vendor_assets/js/jquery.filterizr.min.js"></script>
<script src="assets/vendor_assets/js/jquery.magnific-popup.min.js"></script>
<script src="assets/vendor_assets/js/jquery.mCustomScrollbar.min.js"></script>
<script src="assets/vendor_assets/js/jquery.peity.min.js"></script>
<script src="assets/vendor_assets/js/jquery.star-rating-svg.min.js"></script>
<script src="assets/vendor_assets/js/leaflet.js"></script>
<script src="assets/vendor_assets/js/leaflet.markercluster.js"></script>
<script src="assets/vendor_assets/js/loader.js"></script>
<script src="assets/vendor_assets/js/message.js"></script>
<script src="assets/vendor_assets/js/moment.js"></script>
<script src="assets/vendor_assets/js/muuri.min.js"></script>
<script src="assets/vendor_assets/js/notification.js"></script>
<script src="assets/vendor_assets/js/popover.js"></script>
<script src="assets/vendor_assets/js/select2.full.min.js"></script>
<script src="assets/vendor_assets/js/slick.min.js"></script>
<script src="assets/vendor_assets/js/trumbowyg.min.js"></script>
<script src="assets/vendor_assets/js/wickedpicker.min.js"></script>
<script src="assets/theme_assets/js/drag-drop.js"></script>
<script src="assets/theme_assets/js/footable.js"></script>
<script src="assets/theme_assets/js/full-calendar.js"></script>
<script src="assets/theme_assets/js/googlemap-init.js"></script>
<script src="assets/theme_assets/js/icon-loader.js"></script>
<script src="assets/theme_assets/js/jvectormap-init.js"></script>
<script src="assets/theme_assets/js/leaflet-init.js"></script>
<script src="assets/theme_assets/js/main.js"></script>
<!-- endinject-->

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script>
  $(document).ready(function(){
    $("#myInput").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable div").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  });
</script>
</body>

</html>